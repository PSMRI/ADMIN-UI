<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <button type="button" class="close" matdialog-close>
    <span class="pull-right">&times;</span>
  </button>
  <h4 matdialog-title>Edit Questionnaire</h4>
</div>
<div class="m-b-10">
  <form [formGroup]="editQuestionnaireForm">
    <div class="col-xs-12">
      <mat-form-field [style.width]="'100%'">
        <mat-label>Question</mat-label>
        <input
          matInput
          appquestionnaireValidator
          required
          formControlName="questionName"
          minlength="5"
          maxlength="1000"
          (keyup)="enableUpdateButton()"
        />
      </mat-form-field>
    </div>

    <div class="col-xs-6 col-sm-6 m-t-15">
      <mat-form-field>
        <mat-label>Answer Type</mat-label>
        <mat-select
          formControlName="answerType"
          [style.width]="'100%'"
          (selectionChange)="enableoptionField(); enableUpdateButton()"
          required
        >
          <mat-option *ngFor="let answers of answerTypes" [value]="answers">{{
            answers
          }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="col-xs-6 col-sm-6 m-t-15" *ngIf="disableWeightage">
      <mat-form-field [style.width]="'100%'">
        <mat-label>Weightage</mat-label>
        <input
          matInput
          required
          formControlName="questionWeight"
          (keyup)="weightageInput(); enableUpdateButton()"
          minlength="0"
          maxlength="3"
          appmyMobileNumber
        />
      </mat-form-field>
    </div>

    <div formArrayName="answerOptions" *ngIf="enableOptionArray">
      <div
        class="col-xs-12 col-sm-12 col-md-12 col-lg-12x"
        *ngFor="let options of answerOptionValue(); index as idx"
      >
        <div [formGroupName]="idx">
          <div class="col-xs-6 col-sm-6 m-t-15">
            <mat-form-field
              [style.width]="'100%'"
              *ngIf="this.deleteArray[idx] !== idx"
            >
              <mat-label>Option</mat-label>
              <input
                matInput
                apptextAreaValidator
                required
                formControlName="option"
                maxlength="100"
                (keyup)="enableUpdateButton()"
              />
            </mat-form-field>
          </div>
          <div class="col-xs-6 col-sm-6 m-t-15">
            <mat-form-field
              [style.width]="'100%'"
              *ngIf="this.deleteArray[idx] !== idx"
            >
              <mat-label>Weightage</mat-label>
              <input
                matInput
                required
                allowText="number"
                formControlName="optionWeightage"
                (keyup)="optionweightage(idx); enableUpdateButton()"
                minlength="0"
                maxlength="3"
                appmyMobileNumber
              />
            </mat-form-field>
          </div>
          <button
            md-mini-fab
            class="mat_blue"
            color="primary"
            (click)="addOptionField(idx)"
            *ngIf="this.deleteArray[idx] !== idx"
          >
            <mat-icon class="md-18">add</mat-icon>
          </button>
          <button
            md-mini-fab
            color="warn"
            (click)="deleteOptionField(idx)"
            *ngIf="this.deleteArray[idx] !== idx"
          >
            <mat-icon class="md-18">close</mat-icon>
          </button>
        </div>
      </div>
    </div>
  </form>
</div>
<div class="col-xs-12 col-sm-12 m-b-10 m-t-10 p-r-0">
  <button
    mat-raised-button
    class="pull-right m-l-15 mat_green"
    color="accent"
    [disabled]="
      editQuestionnaireForm.invalid ||
      weightFlag ||
      optionweightFlag ||
      enableUpdate
    "
    (click)="onSubmit()"
  >
    Update
  </button>
  <button mat-raised-button class="m-l-15 pull-right" mat-dialog-close>
    Close
  </button>
</div>
