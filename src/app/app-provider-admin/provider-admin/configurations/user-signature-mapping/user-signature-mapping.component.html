<div class="container-fluid">
  <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      <h4>User Signature Mapping</h4>
    </div>
    <form [formGroup]="signUploadForm" autocomplete="off">
      <div class="col-12 row">
        <div class="col-3">
          <mat-form-field [style.width]="'100%'">
            <mat-label>Designation</mat-label>
            <mat-select
              name="designation"
              formControlName="designation"
              (selectionChange)="getUserNames()"
            >
              <mat-option *ngFor="let item of designations" [value]="item">
                {{ item.designationName }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-3">
          <mat-form-field [style.width]="'100%'">
            <mat-label>UserName</mat-label>
            <mat-select
              name="username"
              formControlName="username"
              (selectionChange)="checkUsersignExist()"
            >
              <mat-option *ngFor="let item of userNames" [value]="item">
                {{ item.userName }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-3">
          <button
            mat-raised-button
            color="primary"
            class="pull-right mat_blue"
            [disabled]="!signExist"
            (click)="file.click()"
          >
            Select Sign
          </button>
          <span class="span-style">
            <input
              type="file"
              #file
              (change)="preview(file.files)"
              accept="image/*"
              class="pull-right"
            />
          </span>
        </div>
      </div>
      <div
        class="col-xs-12 col-sm-12 col-md-12 col-lg-12 m-t-50"
        *ngIf="imgURL"
      >
        <img [src]="imgURL" alt="img" height="80" />
        <button
          mat-raised-button
          color="primary"
          class="m-l-50 mat_blue"
          (click)="uploadSign()"
        >
          Upload
        </button>
      </div>
      <div
        class="col-xs-12 col-sm-12 col-md-12 col-lg-12 m-t-50"
        *ngIf="enableDownloadButton"
      >
        <button
          mat-raised-button
          color="primary"
          class="m-l-50 pull-right mat_blue"
          (click)="downloadSign()"
        >
          Download signature
        </button>
      </div>
    </form>
  </div>
</div>
